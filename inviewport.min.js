"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,Object.prototype.inViewport=function(t,o,e,n){var i=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{type:"percentage",debug:!1},l=r.type,s=r.debug,a=!1,c=!1,d=!1,w=null;function f(){d=!0}var p=function(){var n=!1,i="\n  View the readme: https://github.com/ianrogren/javascript-inViewport",l="undefined"==typeof window?"inViewport: No window object found.":"",s=isNaN(t)?"\n\tx-value is not a number.":"",a=isNaN(o)?"\n\ty-value is not a number.":"",c="function"==typeof e||Array.isArray(e)?"":"\n\tCallback is not a function or array.",d="object"!==_typeof(r)?"inViewport: Invalid options input.":"",w="".concat(l," ").concat(s," ").concat(a," ").concat(c);return"   "!==w&&(console.error("inViewport Error:",w,i),n=!0),""!==d&&console.warn(d,i),n};if(p())return!1;var u=function(t,o,e){var n="font-weight: bold; font-size: 14px; margin-bottom: 10px";console.clear(),console.log("%cElement bounds: \n",n,t,"\n\n"),console.log("%cSide visibility: \n",n,o,"\n\n"),console.log("%cViewport: \n",n,e,"\n\n"),console.log("%cWindow & variabele checks:",n,"\n\tWidth: ",window.innerWidth,"\n\tHeight: ",window.innerHeight,"\n\tLeft offset: ",window.pageXOffset)},b=function(t){var e=t.visible,n=t.bounds,i=0;return e.top&&!e.bottom?(i="pixel"===l?Math.abs(n.top-window.innerHeight):Math.abs((n.top-window.innerHeight)/n.height),s&&console.log("\tTop visible: ",i)):!e.top&&e.bottom&&(i="pixel"===l?n.bottom:Math.abs(n.bottom/n.height),s&&console.log("\tBottom visible: ",i)),i>=o},h=function(o){var e=o.visible,n=o.bounds,i=0;return e.left&&!e.right?(i="pixel"===l?Math.abs(n.left-window.innerWidth):Math.abs((n.left-window.innerWidth)/n.width),s&&console.log("\tLeft visible: ",i)):!e.left&&e.right&&(i="pixel"===l?n.right:Math.abs(n.right/n.width),s&&console.log("\tRight visible: ",i)),i>=t},g=function(t){var o=t.sideA,e=t.sideB,n=t.measurementDirection,i=t.visible,r=t.bounds;return i[o]&&i[e]||r.top<0&&r.bottom>window.innerHeight||r.left<0&&r.right>window.innerWidth?(s&&(i[o]&&i[e]?console.log("\tElement ".concat(n.trim(),": completely visible.")):console.log("\tElement ".concat(n.trim(),": too big for window."))),!0):"height"===n?b(t):h(t)},v=function(){c&&!a?Array.isArray(e)?e[0]():(e(),window.removeEventListener("scroll",f,!1),clearInterval(w),s&&console.log("Scroll interval cleared and removed window scroll")):!c&&a&&Array.isArray(e)&&"function"==typeof e[1]&&e[1]()},m=function(){var t=i.getBoundingClientRect(),o={top:window.pageYOffset,left:window.pageXOffset,bottom:window.pageYOffset+window.innerHeight,right:window.pageXOffset+window.innerWidth},e={top:t.top>=0&&t.top<window.innerHeight,bottom:t.bottom>0&&t.bottom<=window.innerHeight,left:t.left>=0&&t.left<window.innerWidth,right:t.right>=0&&t.right<=window.innerWidth},n={sideA:"top",sideB:"bottom",measurementDirection:"height",visible:e,viewport:o,bounds:t},r={sideA:"right",sideB:"left",measurementDirection:"width",visible:e,viewport:o,bounds:t};return s&&u(t,e,o),c=g(n)&&g(r),v(),c};m();var y=function(){window.addEventListener("scroll",f,!1),w=setInterval((function(){d&&(a=m(),d=!1)}),n)};y()};var inViewport=Object.prototype.inViewport,_default=inViewport;exports.default=_default;