"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,Object.prototype.inViewport=function(t,e,i){var n=this,o=!1,r=!1,s=!1,l=isNaN(t)&&t.includes("px")?"pixel":"";this.setScroll=function(){s=!0};var d=function(i){var n=i.sideA,o=i.sideB,r=i.measurementDirection,s=i.visible,d=i.bounds;return!!(s[n]&&s[o]||d.top<0&&d.bottom>window.innerHeight||d.left<0&&d.right>window.innerWidth)||("height"===r?function(t){var i=t.visible,n=t.bounds,o=0;return i.top&&!i.bottom?o="pixel"===l?Math.abs(n.top-window.innerHeight):Math.abs((n.top-window.innerHeight)/n.height):!i.top&&i.bottom&&(o="pixel"===l?n.bottom:Math.abs(n.bottom/n.height)),o>=e}(i):function(e){var i=e.visible,n=e.bounds,o=0;return i.left&&!i.right?o="pixel"===l?Math.abs(n.left-window.innerWidth):Math.abs((n.left-window.innerWidth)/n.width):!i.left&&i.right&&(o="pixel"===l?n.right:Math.abs(n.right/n.width)),o>=t}(i))},w=function(){var t=n.getBoundingClientRect(),e={top:window.pageYOffset,left:window.pageXOffset,bottom:window.pageYOffset+window.innerHeight,right:window.pageXOffset+window.innerWidth},s={top:t.top>=0&&t.top<window.innerHeight,bottom:t.bottom>0&&t.bottom<=window.innerHeight,left:t.left>=0&&t.left<window.innerWidth,right:t.right>=0&&t.right<=window.innerWidth},l={sideA:"right",sideB:"left",measurementDirection:"width",visible:s,viewport:e,bounds:t};return(r=d({sideA:"top",sideB:"bottom",measurementDirection:"height",visible:s,viewport:e,bounds:t})&&d(l))&&!o?Array.isArray(i)?(i[0](),1===i.length&&(window.removeEventListener("scroll",n.setScroll,!1),clearInterval(n.scrollListener))):(i(),window.removeEventListener("scroll",n.setScroll,!1),clearInterval(n.scrollListener)):!r&&o&&Array.isArray(i)&&"function"==typeof i[1]&&i[1](),r};w();window.addEventListener("scroll",n.setScroll,!1),n.scrollListener=setInterval((function(){s&&(o=w(),s=!1)}),20)};var inViewport=Object.prototype.inViewport,_default=inViewport;exports.default=_default;